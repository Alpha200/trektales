<div class="map-container">
	<mgl-map
		[style]="'https://tiles.openfreemap.org/styles/liberty'"
		[fitBounds]="bounds"
		[fitBoundsOptions]="{padding: 50}"
	>
		<mgl-geojson-source
			id="places"
			[data]="geoJsonData"
			[cluster]="true"
			[clusterMaxZoom]="14"
			[clusterRadius]="50"
		></mgl-geojson-source>

		<!-- Cluster circles -->
		<mgl-layer
			id="clusters"
			type="circle"
			source="places"
			[filter]="['has', 'point_count']"
			[paint]="{
				'circle-color': '#51bbd6',
				'circle-radius': [
					'interpolate',
					['exponential', 10],
					['get', 'point_count'],
					0, 15,
					10, 20,
					100, 25
				],
				'circle-stroke-width': 5,
				'circle-stroke-color': 'white',
			}"
		></mgl-layer>

		<!-- Cluster count text -->
		<mgl-layer
			id="cluster-count"
			type="symbol"
			source="places"
			[filter]="['has', 'point_count']"
			[layout]="{
				'text-field': ['get', 'point_count_abbreviated'],
				'text-font': ['Noto Sans Regular'],
				'text-size': 12
			}"
		></mgl-layer>

		<!-- Unclustered points -->
		<mgl-layer
			id="unclustered-point"
			type="circle"
			source="places"
			[filter]="['!', ['has', 'point_count']]"
			[paint]="{
				'circle-color': '#11b4da',
				'circle-radius': 8,
				'circle-stroke-width': 2,
				'circle-stroke-color': '#fff'
			}"
		></mgl-layer>
	</mgl-map>
</div>

